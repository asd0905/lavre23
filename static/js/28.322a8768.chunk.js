"use strict";(self.webpackChunklavre23=self.webpackChunklavre23||[]).push([[28],{28:function(e,t,r){t.Z=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(2791)),i=(n=r(4060))&&n.__esModule?n:{default:n};function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(){return"undefined"!==typeof window},h=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?l(e):t}(this,c(t).call(this,e)),d(l(r),"image",void 0),d(l(r),"handleOnlineStatus",(function(){r.setState({isOnline:window.navigator.onLine})})),d(l(r),"loadImage",(function(e,t){r.image&&(r.image.onload=null,r.image.onerror=null);var n=new Image;r.image=n,n.onload=r.onLoad,n.onerror=function(e){r.onError(e)},n.src=e,t&&(n.srcset=t.srcSet,n.sizes=t.sizes)})),d(l(r),"onLoad",(function(){r.props.delay?r.setImageWithDelay():r.setImage()})),d(l(r),"setImageWithDelay",(function(){setTimeout((function(){r.setImage()}),r.props.delay)})),d(l(r),"setImage",(function(){r._isMounted&&r.setState({image:r.image.src,loading:!1,srcSetData:{srcSet:r.image.srcset||"",sizes:r.image.sizes||""}},(function(){window.removeEventListener("online",r.handleOnlineStatus),window.removeEventListener("offline",r.handleOnlineStatus)}))})),d(l(r),"onError",(function(e){var t=r.props.onError;t&&t(e)})),d(l(r),"handleIntersection",(function(e,t,n){if(e.isIntersecting){var o=r.props,i=o.src,a=o.srcSetData;n&&(r.loadImage(i,a),t())}})),r._isMounted=!1,r.state={isOnline:!p()||window.navigator.onLine,image:e.placeholder,loading:!0,srcSetData:{srcSet:"",sizes:""}},r}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0,p()&&(window.addEventListener("online",this.handleOnlineStatus),window.addEventListener("offline",this.handleOnlineStatus))}},{key:"componentDidUpdate",value:function(e){var t=this,r=this.props,n=r.src,o=r.placeholder,i=r.srcSetData;n!==e.src&&this.setState({image:o,loading:!0},(function(){t.loadImage(n,i)}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.image&&(this.image.onload=null,this.image.onerror=null),this.timeout&&window.clearTimeout(this.timeout),window.removeEventListener("online",this.handleOnlineStatus),window.removeEventListener("offline",this.handleOnlineStatus)}},{key:"render",value:function(){var e=this,t={onChange:function(t,r){return e.handleIntersection(t,r,e.state.isOnline)},rootMargin:this.props.rootMargin||"0% 0% 25%",threshold:this.props.threshold||[0],disabled:this.props.noLazyLoad||!1},r=this.state,n=r.image,a=r.loading,u=r.srcSetData,s=this.props,c=s.src,l=s.children,f=(s.noRetry,s.noLazyLoad);if(!l||"function"!==typeof l)throw new Error("ProgressiveImage requires a function as its only child");return f?l(c,!1,this.props.srcSetData):o.createElement(i.default,t,l(n,a,u))}}])&&s(r.prototype,n),a&&s(r,a),t}(o.Component);t.Z=h},4060:function(e,t,r){r.r(t),r.d(t,{default:function(){return S},parseRootMargin:function(){return u},useIntersectionObserver:function(){return _}});var n,o=r(2791),i=r(4164),a=/^-?\d*\.?\d+(px|%)$/;function u(e){var t=(e?e.trim():"0px").split(/\s+/).map((function(e){if(!a.test(e))throw new Error("rootMargin must be a string literal containing pixels and/or percent values");return e})),r=t.shift(),n=t[0],o=void 0===n?r:n,i=t[1],u=void 0===i?r:i,s=t[2];return r+" "+o+" "+u+" "+(void 0===s?o:s)}function s(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length?e.some((function(r,n){return s(e[n],t[n])})):e!==t}var c=(n=Object.prototype).hasOwnProperty,l=n.toString;function f(e){return e&&"number"!==typeof e?e.join(","):e}var d=new Map;function p(e,t){var r=d.get(e);if(r)for(var n=r.values(),o=void 0;o=n.next().value;)if(o.target===t.target)return o;return null}function h(e,t){for(var r=0;r<e.length;r++){var n=p(t,e[r]);n&&n.handleChange(e[r])}}function v(e){var t=function(e){void 0===e&&(e={});for(var t,r=e.root||null,n=u(e.rootMargin),o=Array.isArray(e.threshold)?e.threshold:[null!=e.threshold?e.threshold:0],i=d.keys();t=i.next().value;)if(r===t.root&&n===t.rootMargin&&!s(o,t.thresholds))return t;return null}(e);if(t)return t;var r=new IntersectionObserver(h,e);return d.set(r,new Set),r}function g(e){var t;e.observer&&!d.has(e.observer)&&d.set(e.observer,new Set),null===(t=d.get(e.observer))||void 0===t||t.add(e),e.observer.observe(e.target)}function b(e,t){if(d.has(e.observer)){var r=d.get(e.observer);(null===r||void 0===r?void 0:r.delete(e))&&(r.size>0?e.observer.unobserve(t):(e.observer.disconnect(),d.delete(e.observer)))}}var y=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),m=["root","rootMargin","threshold"],w=["root","rootMargin","threshold","disabled"],O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){t.props.onChange(e,t.externalUnobserve)},t.handleNode=function(e){var r=t.props.children;if(function(e){return e&&c.call(e,"ref")}(r)){var n=r.ref;"function"===typeof n?n(e):n&&c.call(n,"current")&&(n.current=e)}if(t.targetNode=void 0,e){var o=(0,i.findDOMNode)(e);o&&1===o.nodeType&&(t.targetNode=o)}},t.observe=function(){if(null==t.props.children||t.props.disabled)return!1;if(!t.targetNode)throw new Error("ReactIntersectionObserver: Can't find DOM node in the provided children. Make sure to render at least one DOM node in the tree.");var e;return t.observer=v((e=t.props,m.reduce((function(t,r){var n,o="root"===r&&"[object String]"===l.call(e.root);return Object.assign(t,((n={})[r]=o?document.querySelector(e[r]):e[r],n))}),{}))),t.target=t.targetNode,g(t),!0},t.unobserve=function(e){b(t,e)},t.externalUnobserve=function(){t.targetNode&&t.unobserve(t.targetNode)},t}return y(t,e),t.prototype.getSnapshotBeforeUpdate=function(e){var t=this;this.prevTargetNode=this.targetNode;var r=w.some((function(r){return s(t.props[r],e[r])}));return r&&this.prevTargetNode&&(e.disabled||this.unobserve(this.prevTargetNode)),r},t.prototype.componentDidUpdate=function(e,t,r){var n=!1;r||(n=this.prevTargetNode!==this.targetNode)&&null!=this.prevTargetNode&&this.unobserve(this.prevTargetNode),(r||n)&&this.observe()},t.prototype.componentDidMount=function(){this.observe()},t.prototype.componentWillUnmount=function(){this.targetNode&&this.unobserve(this.targetNode)},t.prototype.render=function(){var e=this.props.children;return null!=e?o.cloneElement(o.Children.only(e),{ref:this.handleNode}):null},t.displayName="IntersectionObserver",t}(o.Component),S=O,M=function(){},_=function(e,t){var r=void 0===t?{}:t,n=r.root,i=r.rootMargin,a=r.threshold,u=r.disabled,s=(0,o.useRef)(!1),c=(0,o.useRef)({handleChange:function(t){e(t,M)}}),l=(0,o.useCallback)((function(){c.current.target&&s.current&&(b(c.current,c.current.target),s.current=!1)}),[]);c.current.handleChange=function(t){e(t,l)};var d=function(){c.current.observer&&c.current.target&&!s.current&&(g(c.current),s.current=!0)},p=(0,o.useMemo)((function(){return a}),[f(a)]),h=(0,o.useMemo)((function(){if(u)return l(),void(c.current.observer=void 0);var e=v({root:"string"===typeof n?document.querySelector(n):n,rootMargin:i,threshold:p});return c.current.observer=e,l(),d(),e}),[n,i,p,u]);return[(0,o.useCallback)((function(e){var t=null!=e&&c.current.target!==e;h||l(),t&&(l(),c.current.target=e,d()),e||(l(),c.current.target=void 0)}),[h]),l]}}}]);
//# sourceMappingURL=28.322a8768.chunk.js.map